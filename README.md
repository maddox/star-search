# Star Search!

Star Search allows you to scrape the stars from your Campfire room.

Star Search stores the stars in MongoDB and provides API end points to retrieve them.

## Requirements

* MongoDB
* MongoMapper
* Sinatra
* Mechanize

## How Do I Do It?

Download Star Search and edit config.yaml to enter the details of your Campfire room.

Star Search provides 2 simple rake tasks to get your stars.

	rake update # gets that last few stars, run this every so often to keep up to date
	rake backfill # this will get all of your stars at one time

## API

### Star Feed
	/stars.json => returns a feed of stars

#### Options
	page: page number (results are in increments of 30)		

#### Example
	domain.com/stars.json?page=2 => JSON
		
### Search
	/search.json => returns a feed of stars matching your query

#### Required
	q: query

#### Options
	page: page number (results are in increments of 30)		

#### Example
	domain.com/search.json?q=blue%20drink&page=2 => JSON

### By Author
	/author/:author.json => returns a feed of stars from inputted author

#### Options
	page: page number (results are in increments of 30)		

#### Example
	domain.com/authors/maddox.json?page=2 => JSON

		
		
## Resource

Heres the format of the JSON that is returned

	{
	  "stars": [
	    {
	      "author": "maddox",
	      "body": "guess how that would really go down. it wouldn't be pretty",
	      "id": "4c87354de0395a44d100000d",
	      "type": "text",
	      "email": "jon@mustacheinc.com",
	      "posted_at": "2010/09/07 22:05:00 +0000",
	      "starred_message_id": "255012243"
	    },
	    {
	      "author": "maddox",
	      "body": "then walks away",
	      "id": "4c87354de0395a44d100000c",
	      "type": "text",
	      "email": "jon@mustacheinc.com",
	      "posted_at": "2010/09/07 22:57:00 +0000",
	      "starred_message_id": "255012225"
	    },
	    {
	      "author": "maddox",
	      "body": "remember when she's with that mexican gang, trapped, and dances for them",
	      "id": "4c87354de0395a44d100000b",
	      "type": "text",
	      "email": "jon@mustacheinc.com",
	      "posted_at": "2010/09/07 22:55:00 +0000",
	      "starred_message_id": "255012221"
	    }...
	}
		
		
		
		
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8OZDMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMN8$$OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8O$$$OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8$77$ZMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8Z$$$$$8MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM88O?~==ZMMMNMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMO===?$?=+IMM??MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMZ~+=Z777O++=8M=$MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMZ:==Z7777$8~=7OI+MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMM$=++O77777Z7=?$O:+?==8MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMI==IDZ7777ZZ~?$~===8MMMMMNMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMO:~+MO777777OO$ZD~+ZMMMD~I++MMZ+MD8MMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMI~~7MZ77$$ZZ$77Z$++$MM?+DMOMMM===++$MMMMMMMM7MMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMD::==+=~:~~===?O~+778+?8MM+MM=8M~+DMMMMMMMM=+?MMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMM=~~~~~~~~~=~=O~+I$I+?MN~?M=OM~?MMZIMMMM7++?MMMMMMMMMM
MMDD8888888OOOOOOOOOOOOZZ$$ZZ$$$$$$7$O==Z=+7O:=======$8~+OI=D8888~++$88D88$7DMMM
MMMZ77777777777$OI~~~~~~~~~=II7IIIII$Z~+Z==I:===77ZO7?I7+IZIIIZ7=+=$777I?$MMMMMM
MMMMMO7777777$Z:===$ZZO7====$ZZ?:??7O~=?7+==$77?=======+++++IZ~++?7II?IDMMMMMMMM
MMMMMMMD777$7:==+$7777$8~==I~~7$I?$O:=++=+++==~~~~~~=====++7O:++7I??7MMMMMMMMMMM
MMMMMMMMMMZ:~=~Z77777IZI~=?,=7I7ZZ~=~=+===~~==~~~~+7Z$++=?$$~+77??IMMMMMMMMMMMMM
MMMMMMMMMO:~~I7777777ZZ~=?Z~~++::=~=7====?I~Z+~==?Z~=Z~+IZ++=O=:=MMMMMMMMMMMMMMM
MMMMMMMM=~::DMN$7777ZO:=IIIZ~~~=IZI7ZZ?+=7,~~~~=IO,=?=77O:=+:?~~$MMMMMMMMMMMMMMM
MMMMMMM:~:,MMMMMMZ$OZ:~$?II??I??++$7:Z~~=77+O:=IZ:~+~~7O:=~8M~+MMM+MMMMMMMMMMMMM
MMMMMM~~~:OMMMMMMMMO$O7II??I$Z7++$?~I7$+II:$I:IZ::~I7O?~~NMN~=MM=IMMMMMMMMMMMMMM
MMMMM?=~~=MMMMMMMMMMMD7II?7Z:=~:7Z~=?O:~$~+7:::,I:,,::7NMMMM~~:$NMMMMMMMMMMMMMMM
MMMMM~===$MMMMMMMMMMMMM8IZO:?$~~O:~7Z:~:,~:~7+7?~+$DDMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMM=?+=IMMMMMMMMDO7?II78~:$~+7$::~.I,,?:::,:,,,::7ZMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMM?I?++=?+~:,,,,,,,,,=Z::7I$7,:,,+~=~,,,,,,,,,,:~$ZMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMOII??+==+IOMMMN~::+Z::~+,:I7I=::,,,,,,,,,,,,,:?$ZMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMM8,::??I:,:I+~~:::,,,,,,,,,,,,,,::7ZDMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMD:::?+++++=~~~:::,:,,,,,,,,,,,,,::~$$MMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMM$,:,?+++==~~~~:::,,===,,,,,,,,,,,,::?ZZMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMM8:::=I??++===~~:::,IIII+~~:,,,,,,,,,,::$ZMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMD7~,:,?$II??++==~::,~II7$$$7I+~~:,,,,,,,,::~$ZMMMMMMMMMMMMMMMMMMMMMM
MMMM$ZZZZ$$I+~:+MN$77I??+==~::III7Z8DNM8Z7?I=::,,,,,,,::+Z8MMMMMMMMMMMMMMMMMMMMM
MMMMMZ$$ZZONMMMMM8777I??==~=I77$O8MMMMMMM8O$7I?:::,,,,,::$ZMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMM7777I?++77$ZO8DMMMMMMMMMMMM8O$I7=,,,,,::?ZZMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMO$$77I7$$ZO8DMMMMMMMMMMMMMMMMMD8O$7?,:,,::7O8MMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMD$$$$$$ZO8NMMMMMMMMMMMMMMMMMMMMMMMD8Z$7+:::~$OMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMN$$Z$ZO8NMMMMMMMMMMMMMMMMMMMMMMMMMMMMMD8O$$:~=Z8MMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMNZN88DMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMNDZZ?+ONMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMDONMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
